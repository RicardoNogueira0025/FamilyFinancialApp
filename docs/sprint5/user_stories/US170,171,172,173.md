## 3.4 Tests

### Controller Tests

Testes unitários:
1. Sucesso (mockar o serviço, mockar ou não o assembler+dto)
2. Insucesso (mockar o serviço, mockar ou não o assembler+dto)-> Verificar que HTTP status de erro é suposto retornar

Testes de integração
1. Sucesso (sem mocks)
2. Insucesso (sem mocks)

### Service Tests

Testes unitários:
1. Sucesso (mockar o repositorio, o assembler, classe Account)
2. Insucesso 
   
   - No caso da Family Cash Account, só pode haver uma por familia 
   - Caso o assembler lá dentro falhe a criar um value object (isto aqui é apenas um mock)
    
Teste de integração
O mesmo que no controller, mas a iniciar aqui.

### Assembler Tests
1. Sucesso (mockar a conta criada. DTO pode ser mockado ou não. Lembrar que temos de testar os diferentes tipos de conta que o assembler pode criar)
2. Insucesso 
   - pelo menos um value object a ser invalido.
   - Dados errados para o account type (Por exemplo, bank account mas o owner é uma família, ou credit account sem interest).

Teste de integração
O mesmo que no controller, mas a iniciar aqui.
     
### Repository Tests
1. Sucesso (mockar o RepositoryJPA, DataDomainAssembler)
2. Insucesso 
    - findByID não encontra nenhuma conta com esse ID 
    - Verificar se já existe uma conta com ownerID igual, no caso de FamilyCashAccount.
   
 ### Account Tests
1. Sucesso de criação (sem mocks)
2. Equals + hashCode
3. Coisas especificas de regras de negocio (get balances, etc)



### Testes de Value Objects, JPAs e DTOs
1. (AccountID já tem testes feitos, mas ainda está com UUID. Se for a BD a criar o ID, tem de se mudar estes testes)
  
    